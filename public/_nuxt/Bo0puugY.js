import{_ as L,r,e as w,u as R,g as B,h as o,c as m,a,t as M,m as n,E as $,o as g}from"./Bra6A4mU.js";import{u as x}from"./CfjJ7iNU.js";import{u as K}from"./Dr10A1eW.js";import{u as N}from"./CHoVWIrs.js";const q={key:0},G=["aria-busy"],I=["aria-busy"],P={key:1},V={__name:"delete",setup(X){const l=r(!1),d=r(!1),p=r(!1),i=r("X"),f=r(""),b=r(""),u=r(""),A=w(),c=R(),v=x(),T=K(),h=N(),{setError:y}=T,{setSuccessTitle:D,setSuccessMessage:E}=h;B(()=>{f.value=c.params.slug,i.value=c.query.id,b.value=c.params.articlType,S(i.value)});const _=async()=>{try{l.value=!0,await C(i.value),d.value=!0,D("Deletion successful."),E(`The articl "${u.value}" has been permanently deleted.`)}catch(t){y(t)}finally{l.value=!1}},k=async t=>v({method:"GET",url:`/articls/${t}`}),S=async t=>{var e;try{p.value=!0;const s=await k(t);u.value=(e=s.data)==null?void 0:e.title,p.value=!1}catch(s){y(s)}},C=async t=>v({method:"DELETE",url:"/articls",data:{id:t}});return(t,e)=>o(d)?(g(),m("article",P,[e[4]||(e[4]=a("h1",null,"Article Deleted",-1)),a("a",{tabindex:"0",href:"#",onClick:e[1]||(e[1]=n((...s)=>t.navigateToArticlesList&&t.navigateToArticlesList(...s),["prevent"])),onKeyup:e[2]||(e[2]=$(n((...s)=>t.navigateToArticlesList&&t.navigateToArticlesList(...s),["prevent"]),["enter"]))}," Return to Category Page ",32)])):(g(),m("article",q,[e[3]||(e[3]=a("h1",null,"Delete Article",-1)),a("p",null,'Really delete the article "'+M(o(u))+'"?',1),a("form",null,[a("button",{"aria-busy":o(l),onClick:e[0]||(e[0]=n(s=>o(A).push({name:"resource-slug-articls",params:{slug:o(f)}}),["prevent"]))}," Cancel ",8,G),a("button",{"aria-busy":o(l),onClick:n(_,["prevent"])}," Delete ",8,I)])]))}},J=L(V,[["__scopeId","data-v-95a8f244"]]);export{J as default};
