import{r as o,c as l,a as n,h as a,m as _,d as w,j as k,l as g,k as E,t as S,o as r}from"./nWBr_nlk.js";import{u as x}from"./CxFU-RK6.js";import{v as B}from"./a1fnWWKB.js";import{u as D}from"./BneovxEs.js";const F={for:"email"},M=["aria-busy","disabled"],P={key:0},T={key:1},V={key:1},I={__name:"send-change-password-email",setup(A){const e=o(null),c=o(null),i=o(""),t=o(!1),u=o(null),p=x(),f=D(),{setError:m}=f,v=()=>{c.value=null},h=()=>!e.value||!B(e.value)?(i.value="Please enter a valid email address",!1):!0,y=async()=>{try{h()?(v(),t.value=!0,await p({method:"POST",url:"/auth/send-change-password-email",data:{email:e.value}}),u.value=!0):m(i.value)}catch(d){m(d)}finally{t.value=!1}};return(d,s)=>(r(),l("article",null,[s[2]||(s[2]=n("h1",null,"Change Password Using Email",-1)),a(u)?(r(),l("p",V," An email has been sent to "+S(a(e))+" with instructions on how to reset your password. ",1)):(r(),l("form",{key:0,onSubmit:_(y,["prevent"])},[n("label",F,[s[1]||(s[1]=w("Email ")),k(n("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=b=>E(e)?e.value=b:null),name:"email",type:"email",autocomplete:"email"},null,512),[[g,a(e)]])]),n("button",{id:"reset",type:"submit","aria-busy":a(t),disabled:a(t)},[a(t)?(r(),l("span",T,"Sending...")):(r(),l("span",P,"Send Email"))],8,M)],32))]))}};export{I as default};
